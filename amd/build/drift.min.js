define(["core/str"],function(a){"use strict";!function(){var a=window.driftt=window.drift=window.driftt||[];if(!a.init){if(a.invoked)return void(window.console&&console.error&&console.error("Drift snippet included twice."));a.invoked=!0,a.methods=["identify","config","track","reset","debug","show","ping","page","hide","off","on"],a.factory=function(b){return function(){var c=Array.prototype.slice.call(arguments);return c.unshift(b),a.push(c),a}},a.methods.forEach(function(b){a[b]=a.factory(b)}),a.load=function(a){var b=3e5,c=Math.ceil(new Date/b)*b,d=document.createElement("script");d.type="text/javascript",d.async=!0,d.crossorigin="anonymous",d.src="https://js.driftt.com/include/"+c+"/"+a+".js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(d,e)}}}(),drift.SNIPPET_VERSION="0.3.1";var b=function(a){drift.load(a)};return{getScript:function(a){var b=3e5,c=Math.ceil(new Date/b)*b,d=document.createElement("script");return d.type="text/javascript",d.async=!0,d.crossorigin="anonymous",d.src="https://js.driftt.com/include/"+c+"/"+a+".js",d},init:function(a){b(a)},testConnection:function(c){b(c);var d=a.get_string("drift_welcome_message","local_drift");$.when(d).done(function(a){drift.on("ready",function(b,c){b.showWelcomeMessage({message:a})})})},sendData:function(a,c){b(a),drift.identify(c.userid,c.data)}}});